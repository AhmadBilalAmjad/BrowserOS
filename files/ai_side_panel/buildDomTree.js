window.buildDomTree=(t={doHighlightElements:!0,focusHighlightIndex:-1,viewportExpansion:0})=>{const{doHighlightElements:e,focusHighlightIndex:o,viewportExpansion:n}=t;let i=0;function r(t,e,o=null){let n=document.getElementById("playwright-highlight-container");n||(n=document.createElement("div"),n.id="playwright-highlight-container",n.style.position="absolute",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.zIndex="2147483647",document.body.appendChild(n));const i=["#FF0000","#00FF00","#0000FF","#FFA500","#800080","#008080","#FF69B4","#4B0082","#FF4500","#2E8B57","#DC143C","#4682B4"],r=i[e%i.length],d=`${r}1A`,l=document.createElement("div");l.style.position="absolute",l.style.border=`2px solid ${r}`,l.style.backgroundColor=d,l.style.pointerEvents="none",l.style.boxSizing="border-box";const a=t.getBoundingClientRect();let h=a.top+window.scrollY,s=a.left+window.scrollX;if(o){const t=o.getBoundingClientRect();h+=t.top,s+=t.left}l.style.top=`${h}px`,l.style.left=`${s}px`,l.style.width=`${a.width}px`,l.style.height=`${a.height}px`;const u=document.createElement("div");u.className="playwright-highlight-label",u.style.position="absolute",u.style.background=r,u.style.color="white",u.style.padding="1px 4px",u.style.borderRadius="4px",u.style.fontSize=`${Math.min(12,Math.max(8,a.height/2))}px`,u.textContent=e;let c=h+2,g=s+a.width-20-2;return(a.width<24||a.height<20)&&(c=h-16-2,g=s+a.width-20),u.style.top=`${c}px`,u.style.left=`${g}px`,n.appendChild(l),n.appendChild(u),t.setAttribute("browser-user-highlight-id",`playwright-highlight-${e}`),e+1}function d(t,e=!0){const o=[];let n=t;for(;n&&n.nodeType===Node.ELEMENT_NODE&&(!e||!(n.parentNode instanceof ShadowRoot||n.parentNode instanceof HTMLIFrameElement));){let t=0,e=n.previousSibling;for(;e;)e.nodeType===Node.ELEMENT_NODE&&e.nodeName===n.nodeName&&t++,e=e.previousSibling;const i=n.nodeName.toLowerCase(),r=t>0?`[${t+1}]`:"";o.unshift(`${i}${r}`),n=n.parentNode}return o.join("/")}return console.log("focusHighlightIndex:",o),function t(l,a=null){if(!l)return null;if(l.nodeType===Node.TEXT_NODE){const t=l.textContent.trim();return t&&function(t){const e=document.createRange();e.selectNodeContents(t);const o=e.getBoundingClientRect();return 0!==o.width&&0!==o.height&&o.top>=0&&o.top<=window.innerHeight&&t.parentElement?.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0})}(l)?{type:"TEXT_NODE",text:t,isVisible:!0}:null}if(l.nodeType===Node.ELEMENT_NODE&&(h=l,new Set(["svg","script","style","link","meta"]).has(h.tagName.toLowerCase())))return null;var h;const s={tagName:l.tagName?l.tagName.toLowerCase():null,attributes:{},xpath:l.nodeType===Node.ELEMENT_NODE?d(l,!0):null,children:[]};if(l.nodeType===Node.ELEMENT_NODE){const t=l.getBoundingClientRect(),e=window.scrollX,o=window.scrollY;s.viewportCoordinates={topLeft:{x:Math.round(t.left),y:Math.round(t.top)},topRight:{x:Math.round(t.right),y:Math.round(t.top)},bottomLeft:{x:Math.round(t.left),y:Math.round(t.bottom)},bottomRight:{x:Math.round(t.right),y:Math.round(t.bottom)},center:{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)},width:Math.round(t.width),height:Math.round(t.height)},s.pageCoordinates={topLeft:{x:Math.round(t.left+e),y:Math.round(t.top+o)},topRight:{x:Math.round(t.right+e),y:Math.round(t.top+o)},bottomLeft:{x:Math.round(t.left+e),y:Math.round(t.bottom+o)},bottomRight:{x:Math.round(t.right+e),y:Math.round(t.bottom+o)},center:{x:Math.round(t.left+t.width/2+e),y:Math.round(t.top+t.height/2+o)},width:Math.round(t.width),height:Math.round(t.height)},s.viewport={scrollX:Math.round(e),scrollY:Math.round(o),width:window.innerWidth,height:window.innerHeight}}if(l.nodeType===Node.ELEMENT_NODE&&l.attributes){const t=l.getAttributeNames?.()||[];for(const e of t)s.attributes[e]=l.getAttribute(e)}if(l.nodeType===Node.ELEMENT_NODE){const t=function(t){if("body"===t.tagName.toLowerCase())return!1;const e=new Set(["a","button","details","embed","input","label","menu","menuitem","object","select","textarea","summary"]),o=new Set(["button","menu","menuitem","link","checkbox","radio","slider","tab","tabpanel","textbox","combobox","grid","listbox","option","progressbar","scrollbar","searchbox","switch","tree","treeitem","spinbutton","tooltip","a-button-inner","a-dropdown-button","click","menuitemcheckbox","menuitemradio","a-button-text","button-text","button-icon","button-icon-only","button-text-icon-only","dropdown","combobox"]),n=t.tagName.toLowerCase(),i=t.getAttribute("role"),r=t.getAttribute("aria-role"),d=t.getAttribute("tabindex");if(t.classList.contains("address-input__container__input")||e.has(n)||o.has(i)||o.has(r)||null!==d&&"-1"!==d&&"body"!==t.parentElement?.tagName.toLowerCase()||"a-dropdown-select"===t.getAttribute("data-action")||"a-dropdown-button"===t.getAttribute("data-action"))return!0;const l=window.getComputedStyle(t),a=null!==t.onclick||null!==t.getAttribute("onclick")||t.hasAttribute("ng-click")||t.hasAttribute("@click")||t.hasAttribute("v-on:click"),h=function(t){try{return window.getEventListeners?.(t)||{}}catch(e){const o={},n=["click","mousedown","mouseup","touchstart","touchend","keydown","keyup","focus","blur"];for(const e of n){const n=t[`on${e}`];n&&(o[e]=[{listener:n,useCapture:!1}])}return o}}(t),s=h&&(h.click?.length>0||h.mousedown?.length>0||h.mouseup?.length>0||h.touchstart?.length>0||h.touchend?.length>0),u=t.hasAttribute("aria-expanded")||t.hasAttribute("aria-pressed")||t.hasAttribute("aria-selected")||t.hasAttribute("aria-checked"),c=(void 0!==t.form||t.hasAttribute("contenteditable")||l.userSelect,t.draggable||"true"===t.getAttribute("draggable"));return"body"!==t.tagName.toLowerCase()&&"body"!==t.parentElement?.tagName.toLowerCase()&&(u||a||s||c)}(l),d=function(t){const e=window.getComputedStyle(t);return t.offsetWidth>0&&t.offsetHeight>0&&"hidden"!==e.visibility&&"none"!==e.display}(l),h=function(t){if(t.ownerDocument!==window.document)return!0;const e=t.getRootNode();if(e instanceof ShadowRoot){const o=t.getBoundingClientRect(),n={x:o.left+o.width/2,y:o.top+o.height/2};try{const o=e.elementFromPoint(n.x,n.y);if(!o)return!1;let i=o;for(;i&&i!==e;){if(i===t)return!0;i=i.parentElement}return!1}catch(t){return!0}}const o=t.getBoundingClientRect();if(-1===n)return!0;const i=window.scrollX,r=window.scrollY,d=-n+r,l=-n+i,a=window.innerHeight+n+r,h=window.innerWidth+n+i,s=o.top+r,u=o.left+i,c=o.bottom+r,g=o.right+i;if(c<d||s>a||g<l||u>h)return!1;try{const e={x:o.left+o.width/2,y:o.top+o.height/2};if(e.x<0||e.x>=window.innerWidth||e.y<0||e.y>=window.innerHeight)return!0;const n=document.elementFromPoint(e.x,e.y);if(!n)return!1;let i=n;for(;i&&i!==document.documentElement;){if(i===t)return!0;i=i.parentElement}return!1}catch(t){return!0}}(l);s.isInteractive=t,s.isVisible=d,s.isTopElement=h,t&&d&&h&&(s.highlightIndex=i++,e&&(o>=0?o===s.highlightIndex&&r(l,s.highlightIndex,a):r(l,s.highlightIndex,a)))}if(l.shadowRoot&&(s.shadowRoot=!0),l.shadowRoot){const e=Array.from(l.shadowRoot.childNodes).map((e=>t(e,a)));s.children.push(...e)}if("IFRAME"===l.tagName)try{const e=l.contentDocument||l.contentWindow.document;if(e){const o=Array.from(e.body.childNodes).map((e=>t(e,l)));s.children.push(...o)}}catch(t){console.warn("Unable to access iframe:",l)}else{const e=Array.from(l.childNodes).map((e=>t(e,a)));s.children.push(...e)}return s}(document.body)};